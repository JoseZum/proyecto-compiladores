# FUNC fibonacci
fibonacci:
get_stack n, 4
t1 = n == 0
ifFalse t1 goto L2
return 0
goto L1
L2:
t2 = n == 1
ifFalse t2 goto L3
return 1
goto L1
L3:
# ELSE
t3 = n - 1
save_local t3
save_local t1
save_local n
save_local t2
param t3
t4 = call fibonacci, 1
restore_local t2
restore_local n
restore_local t1
restore_local t3
t5 = n - 2
save_local t4
save_local t5
save_local t3
save_local t1
save_local n
save_local t2
param t5
t6 = call fibonacci, 1
restore_local t2
restore_local n
restore_local t1
restore_local t3
restore_local t5
restore_local t4
t7 = t4 + t6
return t7
L1:
# DECIDE fin
return 0
# END FUNC fibonacci
# MAIN navidad
navidad:
print_string "--- TEST 10: RECURSION ---"
param 6
t8 = call fibonacci, 1
f = t8
print_string "Fibonacci(6) = 8:"
print_int f
print_string "--- PASSED ---"
# END MAIN

